module clmm_pool::recovery_deep_tests {
    #[allow(unused_const)]
    const COPYRIGHT_NOTICE: vector<u8> = b"Â© 2025 Metabyte Labs, Inc.  All Rights Reserved.";
    #[allow(unused_const)]
    const PATENT_NOTICE: vector<u8> = b"Patent pending - U.S. Patent Application No. 63/861,982";

    use sui::test_scenario;
    use integer_mate::i32;
    use clmm_pool::tick;
    use sui::test_utils;

    #[test_only]
    public struct TestCoinA has drop, store {}
    #[test_only]
    public struct TestCoinB has drop, store {}

    /*
    state before the bug fix:
    sqrt price: 2062269596072228240
    tick index: -43824
    liquidity: 13062581757983628
    staked liquidity: 43409834894446722
    */
    #[test_only]
    fun current_tick_index(): i32::I32 {
        i32::from(36375)
    }

    fun current_liqudity(): u128 {
        294223464411437   
    }

    fun current_staked_liquidity(): u128 {
        293662687294549
    }

    #[test_only] 
    fun setup_tick_manager(ctx: &mut sui::tx_context::TxContext): tick::TickManager {
        tick::new_test(

40,
12345u64, // You can change this seed value

vector<u32>[
  4294523696, 24200, 29640, 29760, 29800, 29840, 29880, 30000, 30160, 30200, 30400, 30600, 30640, 30680, 30720, 30760, 31360, 31640, 31680, 31920, 31960, 32080, 32120, 32160, 32200, 32240, 32640, 33160, 33320, 33640, 34000, 34040, 34240, 34320, 34520, 34720, 34960, 35080, 35200, 35240, 35280, 35320, 35360, 35400, 35440, 35480, 35560, 35600, 35640, 35680, 35720, 35760, 35800, 35840, 35880, 35920, 35960, 36000, 36040, 36080, 36120, 36160, 36200, 36240, 36280, 36320, 36360, 36400, 36440, 36480, 36520, 36560, 36600, 36640, 36680, 36720, 36760, 36800, 36840, 36880, 36920, 36960, 37000, 37040, 37080, 37120, 37160, 37200, 37240, 37320, 37360, 37400, 37440, 37480, 37520, 37560, 37600, 37640, 37680, 37720, 37760, 37800, 37840, 37880, 37920, 37960, 38000, 38040, 38080, 38120, 38160, 38200, 38240, 38320, 38400, 38480, 38520, 38560, 38600, 38680, 38720, 38760, 38800, 38880, 39120, 39160, 39200, 39320, 39400, 39440, 39480, 39520, 39560, 39600, 39640, 39720, 39760, 39800, 39840, 39880, 39920, 39960, 40000, 40040, 40080, 40200, 40400, 40440, 40640, 40800, 40840, 41000, 41120, 41160, 41200, 41400, 41600, 41640, 41680, 41720, 42040, 42120, 42680, 42920, 42960, 43080, 43120, 43160, 43200, 43240, 43960, 44240, 45240, 45480, 45520, 45760, 46560, 50200, 443600
],

vector<u128>[
  4302785677, 61857130920542190580, 81191761842842740777, 81680352290430138645, 81843868280835539148, 82007711614088619701, 82171882945497400402, 82666371501431835062, 83330321535746063407, 83497140601465426465, 84336258650231558634, 85183809551843824354, 85354339117336488161, 85525210066160798084, 85696423081732435089, 85867978848835210770, 88482915410581911939, 89730325353193465496, 89909956593854082655, 90995320968222183433, 91177484605047234670, 91726166478699668107, 91909793195985662310, 92093787515806414799, 92278150174065859151, 92462881908141135867, 94330661701000642141, 96815294948757197813, 97592884641347686068, 99166850247377860934, 100967924541955845427, 101170052345248755429, 102186777185237140060, 102596322361380049806, 103627380733083755558, 104668800893021115081, 105932329337487950826, 106569801945917883952, 107211110695108998791, 107425736739882164097, 107640792444779138514, 107856278669937013915, 108072196277214791600, 108288546130196829386, 108505329094196295601, 108722546036258629992, 109158285331435833336, 109376809427334184126, 109595770986869337202, 109815170885800246001, 110035010001639046803, 110255289213654568439, 110476009402875849009, 110697171452095659650, 110918776245874035353, 111140824670541812853, 111363317614204175597, 111586255966744205814, 111809640619826443687, 112033472466900453662, 112257752403204397884, 112482481325768616797, 112707660133419216908, 112933289726781665731, 113159371008284393928, 113385904882162404670, 113612892254460890208, 113840334033038855700, 114068231127572750279, 114296584449560105400, 114525394912323180468, 114754663431012615757, 114984390922611092655, 115214578305937001222, 115445226501648115104, 115676336432245273793, 115907909022076072263, 116139945197338557994, 116372445886084935392, 116605412018225277632, 116838844525531245921, 117072744341639816221, 117307112402057013418, 117541949644161652980, 117777257007209090090, 118013035432334976301, 118249285862559023700, 118486009242788776610, 118723206519823390845, 119199026560984612495, 119437651228201708284, 119676753598412253748, 119916334627930416288, 120156395274984809724, 120396936499722326836, 120637959264211979558, 120879464532448746881, 121121453270357430441, 121363926445796517836, 121606885028562053677, 121850329990391518379, 122094262304967714730, 122338682947922662230, 122583592896841499233, 122828993131266392893, 123074884632700456950, 123321268384611677344, 123568145372436845698, 123815516583585500674, 124063383007443877212, 124311745635378863687, 124560605460741966977, 124809963478873285476, 125310178084767812996, 125812397455706539664, 126316629626406635035, 126569503031317916248, 126822882663786887593, 127076769537231074154, 127586069070863063141, 127841483768045977884, 128097409780202479647, 128353848130934597201, 128868265952783647303, 130423922635875695233, 130685018435346937209, 130946636922796916416, 131734638987193721475, 132262606376069619861, 132527383038617346646, 132792689757867801446, 133058527594942101973, 133324897613085625516, 133591800877672261498, 133859238456208672543, 134395720835846962507, 134664767782664501863, 134934353334871719165, 135204478570703358281, 135475144570552682442, 135746352416975795384, 136018103194695971143, 136290397990607992514, 136563237893782498198, 136836623995470338646, 137660070436917266547, 139043507628489872408, 139321858984988333122, 140721996589938865173, 141852230961760039451, 142136205104702679575, 143277797950046411269, 144140005664731210622, 144428559706460900676, 144717691404855820853, 146172055302335809642, 147641035065545551298, 147936597822025601889, 148232752265924934682, 148529499581743269149, 150924964422050799322, 151529842986980439933, 155832418437871583381, 157713577786086083945, 158029304777325965040, 158980283140161989690, 159298545950294853359, 159617445891110295858, 159936984238080957281, 160257162269232847853, 166131225191904710788, 168473301525183364153, 177110669656756690084, 179248693280038710570, 179607531443546404194, 181775696387475974435, 189193724923805130092, 226957412627426355078, 79084200890414257525634219231
],

vector<u128>[
  747305799, 2396536563, 403331458, 2297058056, 23915634932, 12679695989, 268581030, 1667247463, 4834319368, 58133166, 84275013, 2346514746, 2736181365, 11316441381, 3502398424, 573369269, 249078493908, 2928925772, 1240381887, 1919643579, 3758934893, 765962732, 775608454, 70779365184, 240510862, 181591245, 123583096, 36268485005, 1108255753, 133447520540, 1938846297, 4872738333, 658018330, 6010358322, 23029016306, 7277060694, 6288441739, 5056111436, 46675872316, 18515464070, 11312193112, 56300806710, 4397323444, 13377774537, 111889244625, 2355799398643, 95195643542, 219704309568, 35822567748, 597735407639, 449915427028, 16557316578, 160144960917, 31335663299, 412749489368, 61952019111, 115075281372, 15864516611, 1592622323369, 293466747318, 3565770006838, 200140756593306, 599635616230, 9351482304383, 4561754443610, 106562951488061, 340282366920938463463374569528897541151, 340282366920938463463374452939919663043, 340282366920938463463374565003626028576, 340282366920938463463374548387697185240, 11235176100614, 340282366920938463463374607388155010053, 340282366920938463463374607251296420124, 340282366920938463463374603872335593050, 340282366920938463463374607348343910478, 340282366920938463463374607328409196349, 8876875832262, 340282366920938463463374606806191873328, 186131297189, 458280154822, 340282366920938463463374598414510354655, 340282366920938463463374600444725826333, 340282366920938463463374606996598084854, 563563963170, 340282366920938463463374607079111523398, 340282366920938463463374589481796611533, 340282366920938463463374607428294188317, 340282366920938463463374607155110141794, 340282366920938463463374602859268412554, 340282366920938463463374607123913313690, 340282366920938463463374605258225222979, 340282366920938463463374607134740505150, 340282366920938463463374607380613005247, 340282366920938463463374607066997993971, 9960836815, 340282366920938463463374607053897903195, 340282366920938463463374607241109262627, 340282366920938463463374607400274558909, 340282366920938463463374606997262943868, 340282366920938463463374607429154206698, 340282366920938463463374606977088508259, 340282366920938463463374602912884591177, 340282366920938463463374607390518782786, 10733543629, 340282366920938463463374607397509907546, 340282366920938463463374607228430170157, 340282366920938463463374606256076091609, 340282366920938463463374605994446817016, 340282366920938463463374607408373653443, 340282366920938463463374607429332907274, 340282366920938463463374607420476796724, 340282366920938463463374607371716604840, 340282366920938463463374607406925407528, 340282366920938463463374607372461099419, 340282366920938463463374607385652265527, 340282366920938463463374607425449034043, 10860872275, 8239015805, 340282366920938463463374607416273824072, 340282366920938463463374607429354965635, 340282366920938463463374607420907339181, 340282366920938463463374607423529195651, 340282366920938463463374607411382578356, 340282366920938463463374607326144744692, 340282366920938463463374607267019065239, 340282366920938463463374607429055041263, 340282366920938463463374607418713224632, 340282366920938463463374607427987786648, 340282366920938463463374607238799262287, 340282366920938463463374607430276480585, 340282366920938463463374607431607005845, 340282366920938463463374607421807374641, 340282366920938463463374607373246912983, 340282366920938463463374607424268869245, 340282366920938463463374607431169200103, 340282366920938463463374607357137669878, 340282366920938463463374607430230540993, 340282366920938463463374607400731281972, 340282366920938463463374607411759857124, 340282366920938463463374607407803745234, 340282366920938463463374607412494358528, 340282366920938463463374607424129690109, 340282366920938463463374607431508721946, 340282366920938463463374607431161463127, 340282366920938463463374607431679079854, 340282366920938463463374607423721993423, 340282366920938463463374607430659955703, 340282366920938463463374607395499726451, 340282366920938463463374607431364879998, 340282366920938463463374607400176316908, 340282366920938463463374607426764775083, 340282366920938463463374607430100963993, 340282366920938463463374607426933892088, 340282366920938463463374607426895473123, 340282366920938463463374607431710078290, 340282366920938463463374607431683936443, 340282366920938463463374607429421696710, 340282366920938463463374607425815874118, 340282366920938463463374607422493520923, 340282366920938463463374607332741600150, 340282366920938463463374607429829365159, 340282366920938463463374607431644628360, 340282366920938463463374607430527829569, 340282366920938463463374607431765793929, 340282366920938463463374607428009276563, 340282366920938463463374607431002248724, 340282366920938463463374607430992603002, 340282366920938463463374605741738831811, 340282366920938463463374607431527700594, 340282366920938463463374607431586620211, 340282366920938463463374607298320690916, 340282366920938463463374607431430275592, 340282366920938463463374607182689717548, 340282366920938463463374607431526730502, 340282366920938463463374607429080766638, 340282366920938463463374607429848567877, 340282366920938463463374607429371674893, 340282366920938463463374607431499630426, 340282366920938463463374607431361259048
],

vector<u128>[
  747305799, 2396536563, 403331458, 2297058056, 23915634932, 12679695989, 268581030, 1667247463, 4834319368, 58133166, 84275013, 2346514746, 2736181365, 11316441381, 3502398424, 573369269, 249078493908, 2928925772, 1240381887, 1919643579, 3758934893, 765962732, 775608454, 70779365184, 240510862, 181591245, 123583096, 36268485005, 1108255753, 133447520540, 1938846297, 4872738333, 658018330, 6010358322, 23029016306, 7277060694, 6288441739, 5056111436, 46675872316, 18515464070, 11312193112, 56300806710, 4397323444, 13377774537, 111889244625, 2355799398643, 95195643542, 219704309568, 35822567748, 597735407639, 449915427028, 16557316578, 160144960917, 31335663299, 412749489368, 61952019111, 115075281372, 15864516611, 1592622323369, 293466747318, 3565770006838, 200140756593306, 599635616230, 9351482304383, 4561754443610, 106562951488061, 103132134715143, 155233451726557, 44900558563336, 59044688664398, 11235176100614, 43613201403, 204324707390, 3559432618406, 88250792620, 103359015107, 9205646564794, 625576338128, 196744396369, 458280154822, 9017257856801, 16086883484649, 435170126602, 570635176382, 352656688058, 18772465851597, 3474023139, 873130111628, 4572499798902, 307854897766, 2173542988477, 300089911086, 54138667951, 365092628707, 9960836815, 630725909905, 206855655957, 31493652547, 438105304254, 12462046550, 457755044123, 4580957479247, 92543570784, 25917955365, 82574521100, 203338041299, 1177424595525, 1437321394440, 23572821217, 2435304182, 13021223352, 60051606616, 24842803928, 59307112037, 46115945929, 6319177413, 10860872275, 8239015805, 15494387384, 2413245821, 10860872275, 8239015805, 20385633100, 105623466764, 164749146217, 2713170193, 13054986824, 3780424808, 192968949169, 1491730871, 161205611, 9960836815, 58521298473, 7499342211, 599011353, 74630541578, 1537670463, 31036929484, 20008354332, 23964466222, 19273852928, 7638521347, 259489510, 606748329, 89131602, 8046218033, 1108255753, 36268485005, 403331458, 31591894548, 5003436373, 1667247463, 4834319368, 4872738333, 58133166, 84275013, 2346514746, 5952337338, 9274690533, 99026611306, 1938846297, 123583096, 1240381887, 2417527, 3758934893, 765962732, 775608454, 1690029379645, 240510862, 181591245, 133447520540, 337935864, 249078493908, 241480954, 2687444818, 1919643579, 2396536563, 268581030, 406952408
],

vector<u128>[
  1019315484319435, 12592613462257075, 9015278506303417, 11146113440876340, 12592613462257075, 12592613462257075, 6972022593096841, 12331998966204273, 11841473726684258, 11969865365160227, 11735890345019680, 11250560828336894, 11237418742325699, 11227385336683137, 11203331081417450, 11267947915738363, 641271887982449, 2819995698971438, 310096466889415, 1304923121651461, 1111480527131738, 6922639864052808, 5153950766134733, 4722973816816869, 4727175169825678, 6525595687935064, 9546382640825720, 11374430814799534, 12592613462257075, 5081264927443151, 3979081474103049, 11872692156090879, 10982918977603576, 12592613462257075, 11683544639739811, 12592613462257075, 12592613462257075, 12592613462257075, 11688062040037285, 12592613462257075, 12592613462257075, 12592613462257075, 12592613462257075, 12592613462257075, 12592613462257075, 9040085866122026, 12027613917495209, 12523299384564605, 11380874290734203, 12284302248936084, 12483167341100341, 12451568181257561, 10611318332040184, 11374430814799534, 12224837528462806, 11649352266505738, 8686627509561395, 8686627509561395, 11504465113032075, 8655795503535993, 9934588553446575, 8544862697712210, 8544862697712210, 11720988142357097, 11736266212122120, 11418431140882581, 10813213689243942, 1263691440329449, 1011156334921934, 1293167257273647, 3953380106766430, 1399783272275477, 3863409557473712, 0, 1446500021380735, 704268191374028, 1531356716597782, 263624624281871, 1619194625818896, 2256633779640226, 1563486858538948, 1472485296266882, 0, 427484912123189, 9815545375581, 982414589364873, 0, 8295320693175724, 0, 14667852197631, 0, 7984560566120189, 7934241491222139, 6596318631060086, 9381748019132608, 6831704040036036, 8949322197462306, 0, 5576245235955207, 5560138961104071, 5504546636510172, 7974598247282071, 7851051283647128, 7740611849268756, 4517716248710216, 3840592330987606, 3397200564429587, 3722811158648325, 3594112078863156, 3509408378787566, 3329674762729854, 77082548743877, 50133887356026, 5144590871994133, 1336037843473102, 0, 5334782765802696, 1407265010208949, 0, 0, 3672161866781626, 2651698285346205, 0, 0, 0, 0, 603660826420129, 0, 142331563093482, 90960256731067, 34792709558402, 4356049309876, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
],

vector<u128>[
  52882311695977213, 566896747710014094, 414456157861021683, 515304406936597873, 566896747710014094, 566896747710014094, 345152466831908505, 556548468269418266, 537792278676614052, 543573393542985928, 535743093093535143, 517831787925926772, 517688157617643457, 517465594072817817, 516885483444956023, 519966254800515579, 31740991444484810, 137919980569944502, 19906239577955957, 69782673841144884, 60974537289218930, 342680244371413851, 255897185386479677, 234698703764699617, 235096498530907574, 324460629686661044, 442520742475266661, 522251689266348745, 566896747710014094, 252998692398665554, 194972815358940503, 539614998651092202, 509660210403098328, 566896747710014094, 529824845358983816, 566896747710014094, 566896747710014094, 566896747710014094, 529824845358983816, 566896747710014094, 566896747710014094, 566896747710014094, 566896747710014094, 566896747710014094, 566896747710014094, 414933703191824205, 546182238149416453, 564787275361965591, 522474702445861869, 552589373576890965, 561386142888162125, 560360592927985856, 494417686582230058, 522074497927607435, 551512222047890391, 528811175238256137, 405080423709162525, 405521101227182685, 524414375384187348, 404752592934122468, 456771582838548029, 401181848202954747, 401220073061809097, 534789248422366187, 535743093093535143, 523360055329034266, 503078438466809717, 46466420131438287, 39819140574544250, 46799863528378060, 162066845393464212, 50756169414958618, 158156519951095543, 0, 51592340773416221, 25208972621520352, 54745790006253119, 12080079117830710, 58331091233942629, 86826658699909740, 55030675163309958, 51541319284735402, 0, 16167165054120489, 400957276287765, 31205360558087176, 0, 379674595705973297, 0, 582267868686359, 0, 368315128189670702, 366213117660931108, 303589000498016339, 434712510259562485, 314933622596918817, 418738815916071876, 0, 256119433831341223, 255558056312569490, 253105269501192788, 369738522822472898, 363771119274142302, 359146810428569354, 207332880693320208, 173135906303175122, 153230280123949687, 170357425244328266, 164654507344049279, 160727412338986677, 152188167878991777, 3544276093256388, 2313048028318797, 250415104566553183, 56647605576750804, 0, 259541818943136084, 68950575521039741, 0, 0, 181487856705895336, 130153939280889900, 0, 0, 0, 0, 30619214462584886, 0, 7309987187935012, 4711303798892990, 1806935624192217, 226837163665422, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
],

vector<u128>[
  6356630769542592078980, 6379262513750172663053, 6368547005281935270897, 6379102041681862779483, 6379258743796547431523, 6379257776348203696906, 6365122416950985063329, 6379227407610587130351, 6379180402148461665750, 6379192348533240819818, 6379171608817632170398, 6379118289820169944186, 6379117037438718618407, 6379114288184350581668, 6379109757661630921499, 6379120031058675150340, 6355871409085776987184, 6359565627908891188165, 6350325153780943251473, 6357187123344561064785, 6356815809871974935199, 6365093343029299252661, 6362986450688783393598, 6362185318963714710225, 6362206829572376007355, 6364445903523440698408, 6370863586880915011053, 6379132043750645931807, 6379268534332210164094, 6362846525602412728537, 6361024424647073390038, 6379189554557004118793, 6379062878042162818661, 6379293241286255555681, 6379164467711330639522, 6379279793964424229545, 6379291169562121337410, 6379310694623928078274, 6379164678845965408125, 6379307214717247228001, 6379281005956412755061, 6379280289174168878816, 6379263545257399965778, 6379279091802783144902, 6379269019866635611778, 6368641127783768163119, 6379196753203875868260, 6379247380380280146846, 6379133964419258348418, 6379224097721667643455, 6379244253881885955625, 6379239247395843700737, 6377327083260670812043, 6379131555238004871356, 6379218973565903616059, 6379160907110044426374, 6367327446250231105830, 6367339047267147569914, 6379147545552960265036, 6367244227418063904645, 6374185022292640035702, 6366946174194134570835, 6366947722390567603308, 6379168566540106107289, 6379175601354450479192, 6379144315469591747299, 6379003388837632547872, 176485231072146328, 143881435723375515, 173683492441012344, 12133748060325327934, 177808293555889888, 11688946442236170063, 0, 170768275061789585, 74951707288267329, 187292704142022854, 31887493882385799, 232550265150662401, 3751909912658659991, 248141094627765603, 255224749802053046, 0, 45614668429499778, 692088109973772, 142913743401633898, 0, 14520365331768403714, 0, 220432431627406, 0, 13329485804561696418, 13228822076717859723, 10654032685608940366, 20281915401902038056, 11036524126714496873, 14264912076792235613, 0, 9359455968334699750, 9314236359975288024, 9156456042181769571, 12525538260388027404, 12285283987172927347, 12040765521535484902, 7360165726285670065, 6176892316156892850, 5346815872728292014, 5792382436680776555, 5052930635601626845, 4581452496685895713, 4200803219266720316, 379120738223183793, 311188769702828819, 7165704247693087254, 1436544692988941515, 0, 7100940814545015309, 1419670398157520913, 0, 0, 5327549426663779778, 3789876677290424760, 0, 0, 0, 0, 635451428419123040, 0, 103408675174443865, 51200326814422442, 15425748279838709, 7264681639902960, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
],

vector<vector<u128>>[
  vector<u128>[],
  vector<u128>[5441811834727297281, 350110559332802301],
  vector<u128>[1877786874264495017],
  vector<u128>[5329960721109163078, 167352487976033469],
  vector<u128>[5441811834727297281, 350110559332802301],
  vector<u128>[5441811834727297281, 350110559332802301],
  vector<u128>[289067762062542834],
  vector<u128>[5441811834727297281, 319473867996215172],
  vector<u128>[5427133882865471941, 264525649736620638],
  vector<u128>[5441788861751711769, 279340100174082691],
  vector<u128>[5416229465657926586, 253621232529075283],
  vector<u128>[5350109702144833635, 187501469011704026],
  vector<u128>[5348556649749836382, 185948416616706773],
  vector<u128>[5345147356138679702, 182539123005550093],
  vector<u128>[5339529148401005871, 176920915267876262],
  vector<u128>[5352268976084821454, 189660742951691845],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[274225726944170440],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[2628829676454887216],
  vector<u128>[5367165667516842190, 204557434383712581],
  vector<u128>[5441811834727297281, 350110559332802301],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[5438483584490031145, 275875351361179842],
  vector<u128>[5281394699655838503, 118786466522708894],
  vector<u128>[5441811834727297281, 350110559332802301],
  vector<u128>[5407373935945098428, 244765702816247125],
  vector<u128>[5441811834727297281, 350110559332802301],
  vector<u128>[5441811834727297281, 350110559332802301],
  vector<u128>[5441811834727297281, 350110559332802301],
  vector<u128>[5407635759387104841, 245027526258253538],
  vector<u128>[5441811834727297281, 350110559332802301],
  vector<u128>[5441811834727297281, 350110559332802301],
  vector<u128>[5441811834727297281, 350110559332802301],
  vector<u128>[5441811834727297281, 350110559332802301],
  vector<u128>[5441811834727297281, 350110559332802301],
  vector<u128>[5441811834727297281, 350110559332802301],
  vector<u128>[1908301675710245402],
  vector<u128>[5441788861751711769, 284802235876436178],
  vector<u128>[5441811834727297281, 341764905600028352],
  vector<u128>[5369547449030255656, 206939215897126047],
  vector<u128>[5441811834727297281, 315779795541430692],
  vector<u128>[5441811834727297281, 338275510070797017],
  vector<u128>[5441811834727297281, 332687914041494664],
  vector<u128>[4629236447077997807],
  vector<u128>[5366559873071082699, 203951639937953090],
  vector<u128>[5441811834727297281, 310060871697650103],
  vector<u128>[5402958512178218621, 240350279049367318],
  vector<u128>[1482402125887363457],
  vector<u128>[1486163210865780188],
  vector<u128>[5386389132688386432, 223780899555256823],
  vector<u128>[1455422327319770092],
  vector<u128>[3663884018995614021],
  vector<u128>[1359968117882849004],
  vector<u128>[1360788503281743038],
  vector<u128>[5412169306587135240, 249561073458283937],
  vector<u128>[5416286078612186436, 253677845483335133],
  vector<u128>[5373894754377255603, 211286521244125994],
  vector<u128>[5197020257812699460, 34412024679569851],
  vector<u128>[82341565545577576, 153248523284212205],
  vector<u128>[46179545395488231, 117086503129844554],
  vector<u128>[86722784676849676, 157629742415484305],
  vector<u128>[4013713882866371350, 350110559332802301],
  vector<u128>[107691382095744985, 178598339834379614],
  vector<u128>[3837404589306345251, 350110559332802301],
  vector<u128>[0, 0],
  vector<u128>[111840557008125852, 182747514746760481],
  vector<u128>[2933466603367355, 72127589657860031],
  vector<u128>[151186484117889875, 216067535082254663],
  vector<u128>[0, 29135685771513864],
  vector<u128>[221966477702106266, 278463801105773462],
  vector<u128>[1367187837463437293, 332751078344115110],
  vector<u128>[250364124562348218, 302168852852639971],
  vector<u128>[271015763444127138, 312603444913948632],
  vector<u128>[0, 0],
  vector<u128>[21769675386057126, 54042660123856260],
  vector<u128>[0, 772419765595734],
  vector<u128>[160392429858562650, 175975394013707133],
  vector<u128>[0, 0],
  vector<u128>[3327523302105061926, 237203916034881205],
  vector<u128>[0, 0],
  vector<u128>[273353436501720, 273353436501720],
  vector<u128>[0, 0],
  vector<u128>[2666685165189202964, 210615763970240026],
  vector<u128>[2633840165869313676, 210253161769674576],
  vector<u128>[2616402702723201912, 201573649158670632],
  vector<u128>[2610596870620611353, 196556760186633653],
  vector<u128>[2590915096184940971, 191976192329436122],
  vector<u128>[2502747857165079497, 190445086293171745],
  vector<u128>[0, 0],
  vector<u128>[2434486448010821777, 171758093672210827],
  vector<u128>[2415643126063414564, 169594469729046222],
  vector<u128>[2348271359812108999, 168184957905965343],
  vector<u128>[2261915398956698118, 163872678590382418],
  vector<u128>[2195876058622804026, 159724848317144508],
  vector<u128>[2107348637122460863, 153317700009395115],
  vector<u128>[1961385129473643947, 133879948298157712],
  vector<u128>[1798627568700503015, 117521977711186342],
  vector<u128>[1709548919296796215, 95230967590488612],
  vector<u128>[1534212629378599652, 42013303861811109],
  vector<u128>[1286774662552394062, 40909432967103646],
  vector<u128>[1128822770659123919, 40864115793699158],
  vector<u128>[1034649050340020434, 28607678987851112],
  vector<u128>[126146354838020575, 3820135889989436],
  vector<u128>[101344891284621479, 155754226610714],
  vector<u128>[894714174831492939],
  vector<u128>[780990898366538520],
  vector<u128>[0, 0],
  vector<u128>[643294233430824998],
  vector<u128>[616891248188313895],
  vector<u128>[0, 0],
  vector<u128>[0, 0],
  vector<u128>[526101939908391183],
  vector<u128>[507825913961922205],
  vector<u128>[0, 0],
  vector<u128>[0, 0],
  vector<u128>[0, 0],
  vector<u128>[0, 0],
  vector<u128>[178817728186481718],
  vector<u128>[0, 0],
  vector<u128>[46762408057517192],
  vector<u128>[22124888025810287],
  vector<u128>[6324283669173700],
  vector<u128>[3211364186208655],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[0, 0],
  vector<u128>[0, 0],
  vector<u128>[0],
  vector<u128>[0, 0],
  vector<u128>[0, 0],
  vector<u128>[0, 0],
  vector<u128>[0, 0],
  vector<u128>[0, 0],
  vector<u128>[0, 0],
  vector<u128>[0, 0],
  vector<u128>[0, 0],
  vector<u128>[0, 0],
  vector<u128>[0, 0],
  vector<u128>[0],
  vector<u128>[],
  vector<u128>[0],
  vector<u128>[],
  vector<u128>[0, 0],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[0, 0],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[],
  vector<u128>[0, 0],
  vector<u128>[0],
  vector<u128>[]
],

vector<u128>[
  96031125, 2396536563, 0, 0, 23915634932, 12679695989, 268581030, 1667247463, 4834319368, 0, 0, 0, 0, 0, 0, 0, 249078493908, 0, 1240381887, 0, 0, 0, 0, 70779365184, 0, 0, 123583096, 36268485005, 1108255753, 133447520540, 0, 0, 658018330, 6010358322, 23029016306, 7277060694, 6288441739, 5056111436, 46675872316, 18515464070, 11312193112, 56300806710, 4397323444, 13377774537, 111889244625, 2352722226351, 95195643542, 219704309568, 35822567748, 171056694120, 449915427028, 14974062352, 160144960917, 20385633100, 412434344194, 56048675114, 83264156356, 13482861058, 1564943160940, 293223692278, 3561494244929, 200140756593306, 596922446037, 9349668516761, 4561754443610, 106562951488061, 340282366920938463463374569528897541151, 340282366920938463463374452932685068561, 340282366920938463463374565003626028576, 340282366920938463463374548387388366149, 11235176100614, 340282366920938463463374607388155010053, 340282366920938463463374607251296420124, 340282366920938463463374603872335593050, 340282366920938463463374607345930664657, 340282366920938463463374607328409196349, 8876875832262, 340282366920938463463374606806191873328, 186131297189, 458280154822, 340282366920938463463374598414510354655, 340282366920938463463374600444725826333, 340282366920938463463374606996598084854, 563563963170, 340282366920938463463374607079111523398, 340282366920938463463374589481796611533, 340282366920938463463374607428294188317, 340282366920938463463374607142055154970, 340282366920938463463374602859268412554, 340282366920938463463374607123913313690, 340282366920938463463374605258225222979, 340282366920938463463374607133209402760, 340282366920938463463374607379121274376, 340282366920938463463374607069913960652, 0, 340282366920938463463374606927470102373, 340282366920938463463374607233010909063, 340282366920938463463374607400274558909, 340282366920938463463374607422042978537, 340282366920938463463374607424230185802, 340282366920938463463374606977232752539, 340282366920938463463374602885472339268, 340282366920938463463374607372041317120, 340282366920938463463374607426165469326, 340282366920938463463374607391552062119, 340282366920938463463374607228430170157, 340282366920938463463374606257416297605, 340282366920938463463374606022125979445, 340282366920938463463374607408702788599, 340282366920938463463374607429706584933, 340282366920938463463374607420810951619, 340282366920938463463374607403527729856, 340282366920938463463374607408739195150, 340282366920938463463374607372461099419, 340282366920938463463374607392886860009, 340282366920938463463374607425757853134, 10860872275, 0, 340282366920938463463374607419841753427, 0, 340282366920938463463374607420907339181, 0, 340282366920938463463374607411382578356, 340282366920938463463374607326144744692, 340282366920938463463374607267019065239, 0, 0, 0, 340282366920938463463374607240330364677, 0, 0, 0, 0, 0, 0, 0, 0, 340282366920938463463374607428143533881, 0, 340282366920938463463374607430093892892, 340282366920938463463374607419471292285, 340282366920938463463374607424129690109, 0, 0, 0, 340282366920938463463374607430903307146, 340282366920938463463374607430659955703, 340282366920938463463374607395499726451, 0, 340282366920938463463374607400176316908, 340282366920938463463374607426764775083, 340282366920938463463374607430100963993, 340282366920938463463374607426933892088, 0, 0, 0, 0, 0, 0, 340282366920938463463374607335642962718, 0, 340282366920938463463374607431644628360, 340282366920938463463374607430527829569, 0, 0, 0, 0, 340282366920938463463374605741738831811, 0, 0, 340282366920938463463374607298320690916, 0, 340282366920938463463374607182689717548, 0, 0, 0, 340282366920938463463374607429371674893, 340282366920938463463374607431499630426, 340282366920938463463374607431672180331
],

vector<u128>[
  0u128, 7749111468290080u128, 0u128, 0u128, 4093497268421777u128, 3084275798699908u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 13481358189287739u128, 0u128, 0u128, 0u128, 0u128, 37075841235533429u128, 0u128, 24161434844618703u128, 35189387367575737u128, 51227064209537922u128, 0u128, 49069891310046219u128, 25323225666941523u128, 24607705498721199u128, 8741262536070609u128, 23485101364726620u128, 13897675631513747u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 145672275893294u128, 2476416047600802u128, 4345867895078842u128, 5915418803111855u128, 45012148588291029u128, 42451130496896914u128, 40086710567812112u128, 32997914435125378u128, 27895425739269015u128, 25346573406396672u128, 0u128, 17789011308593191u128, 11550787264950748u128, 8270030374499237u128, 5944957564708028u128, 3823720744118632u128, 1746797229961740u128, 481811043818485u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128, 0u128
],
            ctx
        )
    }

    #[test]
    fun test_recovery_deep() {
        let mut scenario = test_scenario::begin(@0x1);
        let tick_manager = setup_tick_manager(scenario.ctx());

        let (calculated_liquidity, calculated_staked_liquidity) = tick_manager.calc_current_liquidity(current_tick_index());

        assert!(calculated_liquidity == current_liqudity(), 1);
        assert!(calculated_staked_liquidity <= current_liqudity(), 2);
        assert!(calculated_staked_liquidity == current_staked_liquidity(), 3);

        test_utils::destroy(tick_manager);
        scenario.end();
    }

}